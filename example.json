{
  "listen": { "address": "0.0.0.0", "port": 8888 },
  "peek_size": 512,
  "metrics": { "enable": true, "port": 9100 },
  "access": {
    "whitelist": [ "0.0.0.0/0" ],
    "blacklist": [ "203.0.113.1" ],
    "syn_limit": { "enable": true, "max_attempts": 120, "interval_ms": 1000, "ban_seconds": 30 }
  },
  "routes": [
    {
      "name": "web",
      "detector": "http_or_tls",
      "http_forward": {
        "enable": true,
        "x_real_ip": true,
        "x_forwarded_for": true,
        "x_forwarded_proto": true,
        "x_forwarded_port": true,
        "forwarded": false,
        "headers": [
          { "name": "X-Forwarded-Host", "value": "example.org" }
        ]
      },
      "backend": { "host": "127.0.0.1", "port": 443, "proxy_protocol": false }
    },
    {
      "name": "ssh-admin",
      "detector": "ssh_username",
      "ssh_usernames": ["admin", "root"],
      "backend": { "host": "127.0.0.1", "port": 2222, "proxy_protocol": true }
    },
    {
      "name": "ssh",
      "detector": "ssh",
      "backend": { "host": "127.0.0.1", "port": 22, "proxy_protocol": true }
    }
  ],
  "fallback": { "host": "127.0.0.1", "port": 22, "proxy_protocol": false }
}
